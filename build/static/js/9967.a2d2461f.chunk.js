/*! For license information please see 9967.a2d2461f.chunk.js.LICENSE.txt */
(self.webpackChunkinvoive=self.webpackChunkinvoive||[]).push([[9967],{3015:function(e,n,o){"use strict";o.r(n),o.d(n,{useVendorContext:function(){return h}});var i=o(4942),t=o(1413),l=o(885),a=o(4569),r=o.n(a),d=o(2791),s=o(7689),c=o(9356),u=o(184),v=(0,d.createContext)(),h=function(){return(0,d.useContext)(v)};n.default=function(e){var n=e.children,o=(0,s.s0)(),a=(0,c.UseGlobalContext)().setSnackbar,h=(0,d.useState)({}),p=(0,l.Z)(h,2),x=p[0],f=p[1],g=(0,d.useState)([]),m=(0,l.Z)(g,2),j=m[0],_=m[1],b=(0,d.useState)([]),Z=(0,l.Z)(b,2),w=Z[0],C=Z[1],I=(0,d.useState)(!1),V=(0,l.Z)(I,2),y=(V[0],V[1]),S=function(e){r().get("https://finance.miratsoneservices.com/api/get-vendor").then((function(e){return _(e.data)})).catch((function(e){return console.log(e)}))},N=function(e){r().get("https://finance.miratsoneservices.com/api/get-vendor-invoice").then((function(e){return C(e.data)})).catch((function(e){return console.log(e)}))};(0,d.useEffect)((function(){S(),N()}),[]);var A={allVendorData:j,setAllVendorData:_,vendorInputData:x,setVendorInputData:f,allVendorInvoice:w,setAllVendorInvoice:C,vendorBillingAddressChange:function(e){f((function(n){return(0,t.Z)((0,t.Z)({},n),{},{billing_address:(0,t.Z)((0,t.Z)({},n.billing_address),{},(0,i.Z)({},e.target.name,e.target.value))})}))},vendorShippingAddressChange:function(e){f((function(n){return(0,t.Z)((0,t.Z)({},n),{},{shipping_address:(0,t.Z)((0,t.Z)({},n.shipping_address),{},(0,i.Z)({},e.target.name,e.target.value))})}))},handleChange:function(e){f((function(n){return(0,t.Z)((0,t.Z)({},n),{},(0,i.Z)({},e.target.name,e.target.value))}))},submitAddVendor:function(){console.log("submit"),y(!0),o("/vendors"),r().post("https://finance.miratsoneservices.com/api/create-vendor",x).then((function(e){console.log(e.data),r().post("https://finance.miratsoneservices.com/api/create-vendor-tax-information",(0,t.Z)({vendor_id:e.data.vendor_id},null===x||void 0===x?void 0:x.tax_information)),r().post("https://finance.miratsoneservices.com/api/create-vendor-billing-address",(0,t.Z)({vendor_id:e.data.vendor_id},null===x||void 0===x?void 0:x.billing_address)),r().post("https://finance.miratsoneservices.com/api/create-vendor-shipping-address",(0,t.Z)({vendor_id:e.data.vendor_id},null===x||void 0===x?void 0:x.shipping_address)),r().post("https://finance.miratsoneservices.com/api/create-vendor-bank-details",(0,t.Z)({vendor_id:e.data.vendor_id},null===x||void 0===x?void 0:x.bank_details)).then((function(e){y(!1),a({open:!0,severity:"success",msg:"vendor Added Successfully!"})}))})).catch((function(e){return console.log(e)}))},getVendors:S,getVendorInvoice:N};return(0,u.jsx)(v.Provider,{value:A,children:n})}},9070:function(e,n,o){"use strict";o.r(n),o.d(n,{default:function(){return M}});var i=o(4942),t=o(1413),l=o(885),a=o(2791),r="VendorInvoice_invoice_table_container__TwLn6",d="VendorInvoice_left_invoice_table__bVAlL",s="VendorInvoice_table_header__zqWuf",c="VendorInvoice_left_table_header__9IcJm",u="VendorInvoice_icon__3Vj03",v="VendorInvoice_right_header__4ymeV",h="VendorInvoice_invoice_table__Tbqri",p="VendorInvoice_light__GRSdV",x="VendorInvoice_warning__1Fo51",f="VendorInvoice_create__EnI+Q",g="VendorInvoice_active__5+YZ5",m="VendorInvoice_canceled__-p19O",j="VendorInvoice_cancelledRow__dMGQs",_="VendorInvoice_loaderContainer__peLTP",b=o(3457),Z=o(1186),w=o(5862),C=o(7689),I=(o(1694),o(6151)),V=o(6839),y=o(6082),S=o(3015),N=o(9126),A=o(4045),D=o(184),k=(o(9704),"#A5D8FF"),P="#3399FF",L="#f6f8fa",F="#32383f",B=(0,b.Z)(Z.Z)((function(e){var n=e.theme;return"\n  & .".concat(w.Z.spacer," {\n    display: none;\n  }\n\n  & .").concat(w.Z.toolbar,"  {\n        display: flex;\n        flex-direction: column;\n        justify-content: space-between;\n        align-items: flex-start;\n        gap: 12px;\n        padding: 0.5em 0em;\n\n    @media (min-width: 768px) {\n      flex-direction: row;\n      align-items: center;\n    }\n  }\n\n  & .").concat(w.Z.selectLabel," {\n    margin: 0;\n  }\n\n  & .").concat(w.Z.select,"{\n    padding: 0.1em 1em;\n        border-radius: 5px;\n        box-shadow: rgba(0, 0, 0, 0.05) 0px 6px 24px 0px,\n        rgba(0, 0, 0, 0.08) 0px 0px 0px 1px;\n        border: none;\n        font-weight: 700;\n        font-size: 14px;\n        color: #484848;\n        outline: none;\n  }\n\n    &:hover {\n      background-color: ").concat("dark"===n.palette.mode?F:L,";\n    }\n\n    &:focus {\n      outline: 1px solid ").concat("dark"===n.palette.mode?P:k,";\n    }\n  }\n\n  & .").concat(w.Z.displayedRows," {\n    margin: 0;\n\n    @media (min-width: 768px) {\n      margin-left: auto;\n    }\n  }\n\n  & .").concat(w.Z.actions," {\n    display: flex;\n    gap: 0.5rem;\n    padding: 0.5em;\n    border: none;\n  }\n\n  & .").concat(w.Z.actions," > button {\n    padding: 0.1em 1em;\n    border: 1px solid #828282;\n    cursor: pointer;\n    background-color: white;\n    border-radius: 5px;\n    box-shadow: rgba(0, 0, 0, 0.05) 0px 6px 24px 0px,\n    rgba(0, 0, 0, 0.08) 0px 0px 0px 1px;\n    border: none;\n  }\n  ")})),M=function(){var e,n,o,b,Z,w=(0,a.useState)({}),k=(0,l.Z)(w,2),P=(k[0],k[1],(0,a.useState)({})),L=(0,l.Z)(P,2),F=L[0],M=L[1],T=(0,S.useVendorContext)(),J=(T.allVendorData,T.allVendorInvoice),O=(0,a.useState)(0),R=(0,l.Z)(O,2),z=R[0],E=R[1],G=(0,a.useState)(10),Y=(0,l.Z)(G,2),q=Y[0],Q=Y[1],U=(0,C.s0)(),W=function(e){""!==e.target.value?Q(-1):Q(10),M((function(n){return(0,t.Z)((0,t.Z)({},n),{},(0,i.Z)({},e.target.name,e.target.value))}))},H=a.useState(null),K=(0,l.Z)(H,2),X=K[0],$=(K[1],Boolean(X));return console.log(J),console.log(F),(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(V.default,{}),(0,D.jsx)("div",{className:r,children:(0,D.jsxs)("div",{className:d,children:[(0,D.jsxs)("div",{className:s,children:[(0,D.jsxs)("div",{className:c,children:[(0,D.jsx)(I.Z,{id:"basic-button","aria-controls":$?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":$?"true":void 0,onClick:function(e){return U("/add-vendor-invoice")},children:"Create Vendor Invoice"}),(0,D.jsx)("input",{type:"search",name:"search",className:u,placeholder:"Search....",onChange:W})]}),(0,D.jsxs)("div",{className:v,children:[(0,D.jsxs)("select",{name:"payment_status",onChange:W,children:[(0,D.jsx)("option",{value:"",selected:!0,children:"Filter: All"}),(0,D.jsx)("option",{value:"paid",children:"PAID"}),(0,D.jsx)("option",{value:"unpaid",children:"UNPAID"})]}),(0,D.jsxs)("select",{name:"month",onChange:W,children:[(0,D.jsx)("option",{value:"",selected:!0,children:"Filter: All Months"}),(0,D.jsx)("option",{value:"0",children:"January"}),(0,D.jsx)("option",{value:"1",children:"February"}),(0,D.jsx)("option",{value:"2",children:"March"}),(0,D.jsx)("option",{value:"3",children:"April"}),(0,D.jsx)("option",{value:"4",children:"May"}),(0,D.jsx)("option",{value:"5",children:"June"}),(0,D.jsx)("option",{value:"6",children:"July"}),(0,D.jsx)("option",{value:"7",children:"August"}),(0,D.jsx)("option",{value:"8",children:"September"}),(0,D.jsx)("option",{value:"9",children:"October"}),(0,D.jsx)("option",{value:"10",children:"November"}),(0,D.jsx)("option",{value:"11",children:"December"})]}),(0,D.jsxs)("select",{name:"year",onChange:W,children:[(0,D.jsx)("option",{value:"",selected:!0,children:"Filter: All Year"}),(0,D.jsx)("option",{value:"2023",children:"2023"}),(0,D.jsx)("option",{value:"2022",children:"2022"}),(0,D.jsx)("option",{value:"2021",children:"2021"}),(0,D.jsx)("option",{value:"2020",children:"2020"}),(0,D.jsx)("option",{value:"2019",children:"2019"})]}),(0,D.jsx)(N.wbB,{size:29,onClick:function(e){var n=document.getElementById("table-to-xls-DATA"),o=A.P6.table_to_book(n,{sheet:"Sheet JS"});return(0,A.NC)(o,"vendorInvoices.xlsx")},style:{cursor:"pointer"}})]})]}),(0,D.jsx)("div",{className:h,children:(0,D.jsxs)("table",{"aria-label":"custom pagination table",id:"table-to-xls-DATA",children:[(0,D.jsx)("thead",{children:(0,D.jsxs)("tr",{children:[(0,D.jsx)("th",{children:"S.No"}),(0,D.jsx)("th",{children:"Invoice No"}),(0,D.jsx)("th",{children:"Due Date"}),(0,D.jsx)("th",{children:"Amount"}),(0,D.jsx)("th",{children:"Project No"}),(0,D.jsx)("th",{children:"Invoice Date"}),(0,D.jsx)("th",{children:"Payment Month"}),(0,D.jsx)("th",{children:"Billing Details"}),(0,D.jsx)("th",{children:"Invoice Link"}),(0,D.jsx)("th",{children:"Payment Status"}),(0,D.jsx)("th",{children:"Client Status"})]})}),(0,D.jsx)("tbody",{children:null!==J&&void 0!==J&&J.length?null===(e=q>0?null===J||void 0===J?void 0:J.slice(z*q,z*q+q):J)||void 0===e||null===(n=e.filter((function(e){var n,o,i,t,l,a;return null!==F&&void 0!==F&&F.search?(null===e||void 0===e||null===(n=e.poNo)||void 0===n||null===(o=n.toLowerCase())||void 0===o?void 0:o.includes(null===F||void 0===F||null===(i=F.search)||void 0===i?void 0:i.toLowerCase()))||(null===e||void 0===e||null===(t=e.invoiceNo)||void 0===t||null===(l=t.toLowerCase())||void 0===l?void 0:l.includes(null===F||void 0===F||null===(a=F.search)||void 0===a?void 0:a.toLowerCase())):e})))||void 0===n||null===(o=n.filter((function(e){var n;return null!==F&&void 0!==F&&F.month?(null===(n=new Date(null===e||void 0===e?void 0:e.createdAt))||void 0===n?void 0:n.getMonth())==(null===F||void 0===F?void 0:F.month):e})))||void 0===o||null===(b=o.filter((function(e){var n,o;return null!==F&&void 0!==F&&F.payment_status?(null===e||void 0===e||null===(n=e.status)||void 0===n?void 0:n.toLowerCase())==(null===F||void 0===F||null===(o=F.payment_status)||void 0===o?void 0:o.toLowerCase()):e})))||void 0===b||null===(Z=b.filter((function(e){var n;return null!==F&&void 0!==F&&F.year?(null===(n=new Date(null===e||void 0===e?void 0:e.createdAt))||void 0===n?void 0:n.getFullYear())==(null===F||void 0===F?void 0:F.year):e})))||void 0===Z?void 0:Z.map((function(e,n){var o,i,t,l,a,r;return(0,D.jsxs)("tr",{className:"canceled"===(null===e||void 0===e||null===(o=e.status)||void 0===o?void 0:o.toLowerCase())||"cancelled"===(null===e||void 0===e||null===(i=e.status)||void 0===i?void 0:i.toLowerCase())?j:"",onClick:function(n){U("/edit-vendor-invoice/".concat(null===e||void 0===e?void 0:e.vendor_invoice_id))},children:[(0,D.jsx)("td",{children:(0,D.jsxs)("p",{children:[null===e||void 0===e?void 0:e.vendor_invoice_id," "]})}),(0,D.jsxs)("td",{children:[null===e||void 0===e?void 0:e.invoiceNo,(0,D.jsx)("p",{className:p,children:null===e||void 0===e?void 0:e.invoiceDate})]}),(0,D.jsx)("td",{children:(0,D.jsx)("p",{children:null!==e&&void 0!==e&&e.due_date?null===(t=new Date(null===e||void 0===e?void 0:e.due_date))||void 0===t?void 0:t.toLocaleDateString("en-in"):"-"})}),(0,D.jsx)("td",{className:x,children:null===e||void 0===e?void 0:e.amount}),(0,D.jsx)("td",{className:f,children:(0,D.jsx)("p",{children:null===e||void 0===e?void 0:e.poNo})}),(0,D.jsx)("td",{children:(0,D.jsx)("span",{className:"active"===(null===e||void 0===e||null===(l=e.status)||void 0===l?void 0:l.toLowerCase())?g:m,children:null!==e&&void 0!==e&&e.invoice_date?null===(a=new Date(null===e||void 0===e?void 0:e.invoice_date))||void 0===a?void 0:a.toDateString():"-"})}),(0,D.jsx)("td",{children:(0,D.jsx)("p",{children:null!==e&&void 0!==e&&e.invoice_date?null===(r=new Date(null===e||void 0===e?void 0:e.invoice_date))||void 0===r?void 0:r.toLocaleDateString("default",{month:"long"}):"-"})}),(0,D.jsx)("td",{className:f,children:(0,D.jsx)("p",{children:null===e||void 0===e?void 0:e.billTo})}),(0,D.jsx)("td",{className:f,children:(0,D.jsx)("span",{onClick:function(e){e.stopPropagation()},children:(0,D.jsx)("a",{href:null===e||void 0===e?void 0:e.invoice_link,target:"_blank",children:"View Invoice"})})}),(0,D.jsx)("td",{className:f,children:(0,D.jsx)("p",{children:null===e||void 0===e?void 0:e.status})}),(0,D.jsx)("td",{className:f,children:(0,D.jsx)("p",{children:null!==e&&void 0!==e&&e.client_status?null===e||void 0===e?void 0:e.client_status:"-"})})]},n)})):(0,D.jsx)("div",{className:_,children:(0,D.jsx)("img",{src:y,alt:""})})}),(0,D.jsx)("tfoot",{children:(0,D.jsx)("tr",{children:(0,D.jsx)(B,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],colSpan:3,count:J.length,rowsPerPage:q,page:z,componentsProps:{select:{"aria-label":"rows per page"},actions:{showFirstButton:!0,showLastButton:!0}},onPageChange:function(e,n){E(n)},onRowsPerPageChange:function(e){Q(parseInt(e.target.value,10)),E(0)}})})})]})})]})})]})}},1694:function(e,n){var o;!function(){"use strict";var i={}.hasOwnProperty;function t(){for(var e=[],n=0;n<arguments.length;n++){var o=arguments[n];if(o){var l=typeof o;if("string"===l||"number"===l)e.push(o);else if(Array.isArray(o)){if(o.length){var a=t.apply(null,o);a&&e.push(a)}}else if("object"===l){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){e.push(o.toString());continue}for(var r in o)i.call(o,r)&&o[r]&&e.push(r)}}}return e.join(" ")}e.exports?(t.default=t,e.exports=t):void 0===(o=function(){return t}.apply(n,[]))||(e.exports=o)}()},6082:function(e,n,o){"use strict";e.exports=o.p+"static/media/loader.56ec7b0f514fa47b67e4.gif"},2480:function(){}}]);
//# sourceMappingURL=9967.a2d2461f.chunk.js.map