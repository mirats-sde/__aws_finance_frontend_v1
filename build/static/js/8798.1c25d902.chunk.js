"use strict";(self.webpackChunkinvoive=self.webpackChunkinvoive||[]).push([[8798,6839,9356],{6839:function(e,n,t){t.r(n),t.d(n,{default:function(){return b}});var i=t(885),a={header:"Header_header__d+igc",active:"Header_active__7nHMJ",header_left:"Header_header_left__b5+S6",header_right:"Header_header_right__Yp9r9",right:"Header_right__b7qNX",sign_in:"Header_sign_in__l1VlE",portalprofile:"Header_portalprofile__Qf5Cm",avatar_profile:"Header_avatar_profile__WRaZm",navTitles:"Header_navTitles__hJeSy",dropdownContainer:"Header_dropdownContainer__uA-2z",dropdownLists:"Header_dropdownLists__enHds",myNav:"Header_myNav__3EAW-"},s=t(9714),o=t(7689),l=t(1087),r=t(6747),c=t(2157),d=t(3400),u=t(803),h=t(926),x=t(7064),v=t(3564),p=t(2791),m=t(6205),f=t(9460),j=t(5933),_=t(6910),g=t(184),b=function(){var e=(0,p.useState)(null),n=(0,i.Z)(e,2),t=n[0],b=n[1],N=(0,_.F_)(j.I8),Z=(0,i.Z)(N,1)[0],y=Boolean(t),w=function(){b(null)};return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("div",{className:a.header,children:(0,g.jsxs)("header",{children:[(0,g.jsxs)("div",{className:a.header_left,children:[(0,g.jsx)("figure",{children:(0,g.jsx)("img",{src:s,alt:""})}),(0,g.jsxs)("div",{className:a.navCenterBody,children:[(0,g.jsx)(l.OL,{to:"/invoices",className:function(e){return e.isActive?a.active:""},children:(0,g.jsx)("span",{className:a.nav_name,children:"Invoices"})}),(0,g.jsx)(l.OL,{to:"/vendors",className:function(e){return e.isActive?a.active:""},children:(0,g.jsx)("span",{className:a.nav_name,children:"Vendors"})}),(0,g.jsx)(l.OL,{to:"/vendor-invoice",className:function(e){return e.isActive?a.active:""},children:(0,g.jsx)("span",{className:a.nav_name,children:"Vendor Invoices"})}),(0,g.jsx)(l.OL,{to:"/client-report",className:function(e){return e.isActive?a.active:""},children:(0,g.jsx)("span",{className:a.nav_name,children:"Client Report"})}),(0,g.jsx)(l.OL,{to:"/clients",className:function(e){return e.isActive?a.active:""},children:(0,g.jsx)("span",{className:a.nav_name,children:"Clients"})}),(0,g.jsxs)("span",{className:a.dropdownContainer,children:[(0,g.jsx)("span",{className:a.myNav,children:"others"}),(0,g.jsxs)("ul",{className:a.dropdownLists,children:[(0,g.jsx)("li",{children:(0,g.jsx)(l.OL,{to:"/bank",className:function(e){return e.isActive?a.active:""},children:(0,g.jsx)("span",{className:a.nav_name,children:"Bank"})})}),(0,g.jsx)("li",{children:(0,g.jsx)(l.OL,{to:"/companies",className:function(e){return e.isActive?a.active:""},children:(0,g.jsx)("span",{className:a.nav_name,children:"Companies"})})}),(0,g.jsx)("li",{children:(0,g.jsx)(l.OL,{to:"/expense",className:function(e){return e.isActive?a.active:""},children:(0,g.jsx)("span",{className:a.nav_name,children:"Expense"})})})]})]})]})]}),(0,g.jsxs)("div",{className:a.right,children:[(0,g.jsx)("section",{}),(0,g.jsxs)("section",{className:a.sign_in,children:[(0,g.jsx)(r.Z,{children:(0,g.jsx)(c.Z,{title:"Account settings",children:(0,g.jsx)(d.Z,{onClick:function(e){b(e.currentTarget)},size:"small",sx:{ml:2},"aria-controls":y?"account-menu":void 0,"aria-haspopup":"true","aria-expanded":y?"true":void 0,children:(0,g.jsx)(v.ZP,{size:"lg",bordered:!0,zoomed:!0,className:a.avatar_img})})})}),(0,g.jsxs)(u.Z,{anchorEl:t,id:"account-menu",open:y,onClose:w,onClick:w,PaperProps:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1},"&:before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[(0,g.jsxs)(h.Z,{children:[(0,g.jsx)(v.ZP,{size:"sm",bordered:!0,className:a.avatar_img})," ",(0,g.jsx)("span",{className:a.avatar_profile,children:null===Z||void 0===Z?void 0:Z.email})]}),(0,g.jsxs)(h.Z,{onClick:function(){(0,f.w7)(j.I8).then((function(e){return(0,g.jsx)(o.Fg,{to:"/login"})}))},children:[(0,g.jsx)(x.Z,{children:(0,g.jsx)(m.Z,{fontSize:"small"})}),"Logout"]})]})]})]})]})})})}},8798:function(e,n,t){t.r(n),t.d(n,{default:function(){return z}});var i=t(4942),a=t(4165),s=t(1413),o=t(2982),l=t(5861),r=t(885),c=t(2791),d=t(6839),u="Expense_invoice_table_container__dS-W1",h="Expense_left_invoice_table__mqgQQ",x="Expense_table_header__UDqsL",v="Expense_left_table_header__cQnTm",p="Expense_icon__t5tmf",m="Expense_right_header__tNPmO",f="Expense_invoice_table__gQSF2",j="Expense_modalContainer__SP+SA",_="Expense_modalLeftContainer__odruh",g="Expense_modalRightContainer__1u6a3",b="Expense_innerRightDiv__WWTLZ",N="Expense_downloadBillBTN__KBbEz",Z="Expense_BTNConatainer__bDotd",y=t(7689),w=t(7799),C=t(5933),S=t(3457),k=t(1186),E=t(5862),A=t(5136),B=t(6747),D=t(9126),P=t(4045),F=t(2426),L=t.n(F),H=t(828),M=t(276),O=t(9356),T=t(184),z=function(){var e,n,t,F,z,Y=(0,y.s0)(),I=(0,c.useState)([]),J=(0,r.Z)(I,2),W=J[0],R=J[1],G=(0,c.useState)(""),Q=(0,r.Z)(G,2),U=Q[0],q=Q[1],V=(0,c.useState)(""),K=(0,r.Z)(V,2),X=K[0],$=K[1],ee=(0,c.useState)([]),ne=(0,r.Z)(ee,2),te=ne[0],ie=ne[1],ae=(0,O.UseGlobalContext)().setSnackbar,se=(0,c.useState)(0),oe=(0,r.Z)(se,2),le=oe[0],re=oe[1],ce=(0,c.useState)(5),de=(0,r.Z)(ce,2),ue=de[0],he=de[1],xe=(0,c.useState)([]),ve=(0,r.Z)(xe,2),pe=(ve[0],ve[1]),me=(0,c.useState)({}),fe=(0,r.Z)(me,2),je=fe[0],_e=fe[1],ge=function(){var e=(0,l.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,w.PL)((0,w.IO)((0,w.hJ)(C.iW,"expenses"))).then((function(e){R([]),e.forEach((function(e){console.log(e.data().bill_id),R((function(n){return[].concat((0,o.Z)(n),[(0,s.Z)({},e.data())])})),pe((function(n){return[].concat((0,o.Z)(n),[(0,s.Z)({},e.data())])}))}))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),be=function(){var e=(0,l.Z)((0,a.Z)().mark((function e(){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=P.P6,e.next=3,fetch("../../assets/data.xlsx");case 3:return e.next=5,e.sent.arrayBuffer();case 5:e.t1=e.sent,n=e.t0.readFile.call(e.t0,e.t1),console.log(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){ge(),be()}),[]);var Ne="#A5D8FF",Ze="#3399FF",ye="#f6f8fa",we="#32383f",Ce=(0,S.Z)(k.Z)((function(e){var n=e.theme;return"\n    & .".concat(E.Z.spacer," {\n      display: none;\n    }\n  \n    & .").concat(E.Z.toolbar,"  {\n          display: flex;\n          flex-direction: column;\n          justify-content: space-between;\n          align-items: flex-start;\n          gap: 12px;\n          padding: 0.5em 0em;\n  \n      @media (min-width: 768px) {\n        flex-direction: row;\n        align-items: center;\n      }\n    }\n  \n    & .").concat(E.Z.selectLabel," {\n      margin: 0;\n    }\n  \n    & .").concat(E.Z.select,"{\n      padding: 0.1em 1em;\n          border-radius: 5px;\n          box-shadow: rgba(0, 0, 0, 0.05) 0px 6px 24px 0px,\n          rgba(0, 0, 0, 0.08) 0px 0px 0px 1px;\n          border: none;\n          font-weight: 700;\n          font-size: 14px;\n          color: #484848;\n          outline: none;\n    }\n  \n      &:hover {\n        background-color: ").concat("dark"===n.palette.mode?we:ye,";\n      }\n  \n      &:focus {\n        outline: 1px solid ").concat("dark"===n.palette.mode?Ze:Ne,";\n      }\n    }\n  \n    & .").concat(E.Z.displayedRows," {\n      margin: 0;\n  \n      @media (min-width: 768px) {\n        margin-left: auto;\n      }\n    }\n  \n    & .").concat(E.Z.actions," {\n      display: flex;\n      gap: 0.5rem;\n      padding: 0.5em;\n      border: none;\n    }\n  \n    & .").concat(E.Z.actions," > button {\n      padding: 0.1em 1em;\n      border: 1px solid #828282;\n      cursor: pointer;\n      background-color: white;\n      border-radius: 5px;\n      box-shadow: rgba(0, 0, 0, 0.05) 0px 6px 24px 0px,\n      rgba(0, 0, 0, 0.08) 0px 0px 0px 1px;\n      border: none;\n    }\n    ")})),Se=(0,c.useState)(!1),ke=(0,r.Z)(Se,2),Ee=ke[0],Ae=ke[1],Be=L()(),De=L()().subtract(Number(null===je||void 0===je?void 0:je.days),"days"),Pe=L()().subtract(7,"days");console.log("Today is "+Be.format("MMM Do YYYY")),console.log("Is "+Be.format("MMM Do YYYY")+" included in the last seven days?"),console.log(Be.isBetween(Pe,Be,"day","[]"));function Fe(){return(Fe=(0,l.Z)((0,a.Z)().mark((function e(n){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,w.oe)((0,w.JU)(C.iW,"expenses",String(null===n||void 0===n?void 0:n.bill_id))).then((function(e){return(0,M.aF)((0,M.iH)(C.tO,"expense/".concat(null===n||void 0===n?void 0:n.bill_id))).then((function(e){e.items.forEach((function(e){(0,M.oq)(e).then((function(e){ae({open:!0,msg:"Expense Deleted Successfully!",severity:"error"}),Ae(!1),ge()})).catch((function(e){ae({open:!0,msg:"Expense Deleted Successfully!",severity:"error"}),Ae(!1),ge()}))}))}))})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(d.default,{}),(0,T.jsxs)("div",{className:u,children:[(0,T.jsxs)("div",{className:h,children:[(0,T.jsxs)("div",{className:x,children:[(0,T.jsxs)("div",{className:v,children:[(0,T.jsx)("button",{onClick:function(){return Y("/add-expense")},children:"Add Expense"}),(0,T.jsx)("input",{type:"search",className:p,placeholder:"Search....",onChange:function(e){q(e.target.value),""!==e.target.value?he(-1):he(10)}})]}),(0,T.jsxs)("div",{className:m,children:[(0,T.jsxs)("select",{name:"days",onChange:function(e){_e((function(n){return(0,s.Z)((0,s.Z)({},n),{},(0,i.Z)({},e.target.name,e.target.value))})),""!==e.target.value?he(-1):he(10)},children:[(0,T.jsx)("option",{value:"",diabled:!0,selected:!0,children:"Select: Days"}),(0,T.jsx)("option",{value:"7",children:"1 Week"}),(0,T.jsx)("option",{value:"30",children:"1 Month"}),(0,T.jsx)("option",{value:"90",children:"3 Months"}),(0,T.jsx)("option",{value:"180",children:"6 Months"})]}),(0,T.jsxs)("select",{name:"year",onChange:function(e){_e((function(n){return(0,s.Z)((0,s.Z)({},n),{},(0,i.Z)({},e.target.name,e.target.value))})),""!==e.target.value?he(-1):he(10)},children:[(0,T.jsx)("option",{value:"",selected:!0,children:"Select : Year"}),(0,T.jsx)("option",{value:"2022",children:"2022"}),(0,T.jsx)("option",{value:"2021",children:"2021"}),(0,T.jsx)("option",{value:"2020",children:"2020"}),(0,T.jsx)("option",{value:"2019",children:"2019"}),(0,T.jsx)("option",{value:"2018",children:"2018"})]}),(0,T.jsxs)("select",{name:"filterByMonth",onChange:function(e){$(e.target.value),""!==e.target.value?he(-1):he(10)},children:[(0,T.jsx)("option",{value:"",selected:!0,children:"Filter: All"}),(0,T.jsx)("option",{value:"0",children:"January"}),(0,T.jsx)("option",{value:"1",children:"February"}),(0,T.jsx)("option",{value:"2",children:"March"}),(0,T.jsx)("option",{value:"3",children:"April"}),(0,T.jsx)("option",{value:"4",children:"May"}),(0,T.jsx)("option",{value:"5",children:"June"}),(0,T.jsx)("option",{value:"6",children:"July"}),(0,T.jsx)("option",{value:"7",children:"August"}),(0,T.jsx)("option",{value:"8",children:"September"}),(0,T.jsx)("option",{value:"9",children:"October"}),(0,T.jsx)("option",{value:"9",children:"November"}),(0,T.jsx)("option",{value:"10",children:"December"})]}),(0,T.jsx)(D.wbB,{size:29,onClick:function(e){var n=document.getElementById("table-to-xls-DATA"),t=P.P6.table_to_book(n,{sheet:"Sheet JS"});return(0,P.NC)(t,"Expenses.xlsx")},style:{cursor:"pointer"}})]})]}),(0,T.jsx)("div",{className:f,children:(0,T.jsxs)("table",{id:"table-to-xls-DATA",children:[(0,T.jsx)("thead",{children:(0,T.jsxs)("tr",{children:[(0,T.jsx)("th",{children:"Company Name"}),(0,T.jsx)("th",{children:"Bill Amount"}),(0,T.jsx)("th",{children:"Expense Nature"}),(0,T.jsx)("th",{children:"Payment Method"}),(0,T.jsx)("th",{children:"Bill Date"}),(0,T.jsx)("th",{})]})}),(0,T.jsx)("tbody",{children:null===(e=ue>0?null===W||void 0===W?void 0:W.slice(le*ue,le*ue+ue):W)||void 0===e||null===(n=e.filter((function(e){var n,t;return U?null===e||void 0===e||null===(n=e.company_name)||void 0===n||null===(t=n.toLowerCase())||void 0===t?void 0:t.includes(null===U||void 0===U?void 0:U.toLowerCase()):e})))||void 0===n||null===(t=n.filter((function(e){return X?new Date(null===e||void 0===e?void 0:e.selected_date).getMonth()==X:e})))||void 0===t||null===(F=t.filter((function(e){return null!==je&&void 0!==je&&je.year?new Date(null===e||void 0===e?void 0:e.selected_date).getFullYear()==(null===je||void 0===je?void 0:je.year):e})))||void 0===F||null===(z=F.filter((function(e){return null!==je&&void 0!==je&&je.days?new Date(null===e||void 0===e?void 0:e.selected_date)>=new Date(null===De||void 0===De?void 0:De._d):e})))||void 0===z?void 0:z.map((function(e,n){var t;return(0,T.jsx)(T.Fragment,{children:(0,T.jsxs)("tr",{children:[(0,T.jsxs)("td",{onClick:function(){return function(e){Ae(!0),ie([e])}(e)},children:[null===e||void 0===e?void 0:e.company_name,(0,T.jsx)("br",{})]}),(0,T.jsx)("td",{style:{textAlign:"start"},children:(0,T.jsxs)("p",{children:["\u20b9 ",null===e||void 0===e?void 0:e.bill_amount]})}),(0,T.jsx)("td",{children:(0,T.jsx)("p",{children:null===e||void 0===e?void 0:e.expense_nature})}),(0,T.jsx)("td",{children:(0,T.jsx)("p",{children:null===e||void 0===e?void 0:e.payment_method})}),(0,T.jsx)("td",{children:(0,T.jsx)("p",{children:null===(t=new Date(null===e||void 0===e?void 0:e.selected_date))||void 0===t?void 0:t.toDateString()})})]},n)})}))}),(0,T.jsx)("tfoot",{children:(0,T.jsx)("tr",{children:(0,T.jsx)(Ce,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],colSpan:3,count:null===W||void 0===W?void 0:W.length,rowsPerPage:ue,page:le,componentsProps:{select:{"aria-label":"rows per page"},actions:{showFirstButton:!0,showLastButton:!0}},onPageChange:function(e,n){re(n)},onRowsPerPageChange:function(e){he(parseInt(e.target.value,10)),re(0)}})})})]})})]}),(0,T.jsx)(A.Z,{open:Ee,onClose:function(){Ae(!1),ie([])},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,T.jsx)(B.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:1200,bgcolor:"background.paper",boxShadow:24,p:4},children:(0,T.jsx)("div",{className:j,children:null===te||void 0===te?void 0:te.map((function(e,n){return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)("div",{className:_,children:(0,T.jsx)("a",{href:null===e||void 0===e?void 0:e.image_url,target:"_blank",children:(0,T.jsx)("img",{src:null===e||void 0===e?void 0:e.image_url,alt:""})})}),(0,T.jsxs)("div",{className:g,children:[(0,T.jsxs)("div",{className:b,children:[(0,T.jsx)("p",{children:"Company Name :"}),(0,T.jsx)("p",{children:null===e||void 0===e?void 0:e.company_name})]}),(0,T.jsxs)("div",{className:b,children:[(0,T.jsx)("p",{children:"Bill Amount :"}),(0,T.jsxs)("p",{children:["\u20b9",null===e||void 0===e?void 0:e.bill_amount]})]}),(0,T.jsxs)("div",{className:b,children:[(0,T.jsx)("p",{children:"Expense Nature :"}),(0,T.jsx)("p",{children:null===e||void 0===e?void 0:e.expense_nature})]}),(0,T.jsxs)("div",{className:b,children:[(0,T.jsx)("p",{children:"Payment Method :"}),(0,T.jsx)("p",{children:null===e||void 0===e?void 0:e.payment_method})]}),(0,T.jsxs)("div",{className:b,children:[(0,T.jsx)("p",{children:"Bill Date :"}),(0,T.jsx)("p",{children:null===e||void 0===e?void 0:e.selected_date})]}),(0,T.jsxs)("div",{className:b,children:[(0,T.jsx)("p",{children:"Bill Description :"}),(0,T.jsx)("p",{children:null===e||void 0===e?void 0:e.description})]}),(0,T.jsxs)("div",{className:b,children:[(0,T.jsx)("p",{children:"GST Number:"}),(0,T.jsx)("p",{children:null===e||void 0===e?void 0:e.GST_number})]}),(0,T.jsxs)("div",{className:b,children:[(0,T.jsx)("p",{children:"Uploaded By :"}),(0,T.jsx)("p",{children:null===e||void 0===e?void 0:e.uploaded_by})]}),(0,T.jsxs)("section",{className:Z,children:[(0,T.jsx)("button",{className:N,onClick:function(){return Y("/edit-expense/".concat(null===e||void 0===e?void 0:e.bill_id))},children:"Edit"}),(0,T.jsx)("button",{className:N,onClick:function(n){return function(e){var n=P.P6.book_new(),t=P.P6.json_to_sheet([e]);P.P6.book_append_sheet(n,t,"Sheet1"),(0,P.NC)(n,"All-Vendors-Bills.xlsx")}(e)},children:"Download Bill"}),(0,T.jsx)("button",{className:N,onClick:function(n){return function(e){return Fe.apply(this,arguments)}(e)},children:(0,T.jsx)(H._51,{})})]})]})]})}))})})})]})]})}},9356:function(e,n,t){t.r(n),t.d(n,{UseGlobalContext:function(){return p}});var i=t(1413),a=t(2982),s=t(885),o=t(4569),l=t.n(o),r=t(276),c=t(2791),d=t(5933),u=t(5646),h=t(9658),x=t(184),v=(0,c.createContext)(),p=function(){return(0,c.useContext)(v)};n.default=function(e){var n=e.children,t=(0,c.useState)([]),o=(0,s.Z)(t,2),p=o[0],m=o[1],f=(0,c.useState)({open:!1,severity:"",msg:""}),j=(0,s.Z)(f,2),_=j[0],g=j[1],b=(0,c.useState)([]),N=(0,s.Z)(b,2),Z=N[0],y=N[1],w=(0,c.useState)([]),C=(0,s.Z)(w,2),S=(C[0],C[1],(0,c.useState)(!1)),k=(0,s.Z)(S,2),E=k[0],A=k[1],B=function(){l().get("https://finance.miratsoneservices.com/api/get-bank-transaction").then((function(e){m(null===e||void 0===e?void 0:e.data)}))};(0,c.useEffect)((function(){B(),(0,r.aF)((0,r.iH)(d.tO,(0,r.iH)("bank_statement"))).then((function(e){e.prefixes.forEach((function(e){y((function(n){return[].concat((0,a.Z)(n),[e.name])}))})),e.items.forEach((function(e){console.log(e)}))}))}),[]);var D={bankTransaction:p,name:"sonumonu",getingImgFromFolder:Z,setGetingImgFromFolder:y,getBankTransaction:B,setSnackbar:g,disableBtn:E,setDisableBtn:A},P=c.forwardRef((function(e,n){return(0,x.jsx)(h.Z,(0,i.Z)({elevation:6,ref:n,variant:"filled"},e))})),F=function(e,n){"clickaway"!==n&&g({open:!1})};return(0,x.jsxs)(v.Provider,{value:D,children:[n,(0,x.jsx)(u.Z,{open:null===_||void 0===_?void 0:_.open,autoHideDuration:4e3,onClose:F,children:(0,x.jsx)(P,{onClose:F,severity:null===_||void 0===_?void 0:_.severity,sx:{width:"100%"},children:null===_||void 0===_?void 0:_.msg})})]})}},9714:function(e,n,t){e.exports=t.p+"static/media/miratsLogo.b2dc32dbe312888e3144.png"}}]);
//# sourceMappingURL=8798.1c25d902.chunk.js.map